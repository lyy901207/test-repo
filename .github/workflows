name: demo-github-actions

# github events
on:
    push:
        branches:
            - main

jobs:
    build:
        runs-on: ubuntu-latest

        steps:
        - name: checkout_actions
            uses: actions/checkout@v2

        - name: setup-node
            uses: actions/setup-node@v2
            with:
                node-version: '14'

        - name: npm install
            run: npm install

        - name: npm build
            run: npm run build

        - name: Build
            run: npm run build

        - name: Run tests
            run: npm test

        - name: commit push
            run: |
                git config --global user.email lyy901207@gmail.com

                git config --global user.name lyy901207

                git add .

                git commit -m "update" -a

                git push
